# 태양광 추적 시스템
<img width="1016" height="809" alt="image" src="https://github.com/user-attachments/assets/5367751a-382f-4e2c-af01-7835695cff0c" />


## 📖 프로젝트 개요
태양광 패널은 설치 위치와 지형, 반사광 등에 따라 최적의 조도 위치가 달라집니다.  
이를 해결하기 위해 **조도 센서 기반 태양광 추적 시스템**을 구현했습니다.  

- 360도 회전 가능  
- 위도에 따른 사선 설치 고려  
- 실시간으로 태양광의 최적 방향 추적  

---

## 🎯 목표
- 4개의 조도 센서를 90도 간격으로 설치  
- 가장 밝은 방향을 탐지하여 모터를 해당 방향으로 회전  
- 태양광 모듈의 출력 전압을 실시간 측정 및 표시  

---

## ⚙️ 사용 부품
- STM32F411RE x1  
- 조도 센서 x4  
- 태양광 모듈 x1  
- 스텝 모터 x1  
- I2C 디스플레이 x1  
- 10k 저항 x6  

---

## 🛠️ 시스템 구성
- **조도 센서**: 빛의 세기를 아날로그 전압으로 변환  
- **STM32**: ADC/DMA 기반 데이터 수집 및 모터 제어  
- **스텝 모터**: 태양광 패널 방향 회전  
- **I2C 디스플레이**: 출력 전압 및 방향 표시  
- **UART 출력**: 위치별 조도량 및 전압 출력  

---

## 🔄 알고리즘 흐름
1. 0.2초마다 목표 index로 1씩 회전 (`ProcessStep 함수`)  
2. ADC 값 기반 태양광 전압 계산  
3. 밝기 차이가 300 이상일 경우 방향 갱신 및 이동  
4. 이동 중 상태는 Queue에 저장하여 연속 처리  
5. 0.5초마다 UART/I2C 출력 (비블로킹 방식)  

---

## 🎥 결과 및 시연
- **I2C LCD**: 태양광 전압 및 방향 출력
<img width="648" height="328" alt="광추적이미지1" src="https://github.com/user-attachments/assets/9f62e38d-071d-4b63-a9cc-cc52329e964e" />

- **UART 출력**: 위치별 조도량 및 전압 표시
<img width="984" height="312" alt="광추적이미지2" src="https://github.com/user-attachments/assets/5c3ec9a6-ebbe-452c-82a1-baad778a8cb2" />

- **시연 영상**: 빛의 방향에 따라 태양광 전압 상승 확인  
![빛에따른태양광전압상승 (1)](https://github.com/user-attachments/assets/5eaefeb8-6833-4d54-8c93-4625388a1285)

---

## 🙏 감사합니다
